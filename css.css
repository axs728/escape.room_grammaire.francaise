<style>
    /* Global and Layout */
    body {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
      font-family: 'Georgia', serif;
      background: #1a1a2e; /* Dark background */
      color: #eee;
      height: 100%;
      overflow: hidden;
    }
    html { height: 100%; }
    * { box-sizing: border-box; }
    #app {
      height: 100%;
      display: flex;
      flex-direction: column;
      overflow-y: auto;
    }
    .screen {
      display: none;
      animation: fadeIn 0.5s;
      height: 100%;
    }
    .screen.active {
      display: flex;
      flex-direction: column;
    }
    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }
    
    /* Welcome Screen Styles */
    .welcome-screen { text-align: center; max-width: 600px; margin: auto; padding: 40px 20px; }
    .welcome-screen h1 { font-size: 48px; color: #f39c12; /* Primary Action Color */ margin-bottom: 20px; text-shadow: 2px 2px 4px rgba(0,0,0,0.5); }
    .welcome-screen p { font-size: 18px; margin-bottom: 30px; line-height: 1.6; }
    .name-input { width: 100%; padding: 15px; font-size: 18px; border: 2px solid #f39c12; border-radius: 8px; margin-bottom: 20px; background: #16213e; /* Surface Color */ color: #eee; }
    
    /* Button Styles */
    .btn { padding: 15px 40px; font-size: 18px; background: #f39c12; color: #1a1a2e; border: none; border-radius: 8px; cursor: pointer; font-weight: bold; transition: all 0.3s; }
    .btn:hover { background: #e67e22; transform: scale(1.05); }
    .btn:disabled { background: #555; cursor: not-allowed; transform: none; }

    /* Escape Room Visual */
    .room-container { flex: 1; display: flex; flex-direction: column; padding: 15px; overflow-y: auto; }
    .room-header { text-align: center; margin-bottom: 15px; flex-shrink: 0; }
    .room-title { font-size: 28px; color: #f39c12; margin-bottom: 8px; }
    .room-description { font-size: 14px; color: #bbb; margin-bottom: 10px; font-style: italic; }
    .progress-info { display: flex; justify-content: space-between; align-items: center; gap: 20px; margin-bottom: 10px; }
    .clues-found { font-size: 16px; color: #f39c12; font-weight: bold; }
    .timer { font-size: 16px; color: #eee; }
    .room-visual {
      position: relative;
      background: linear-gradient(180deg, #2d3561 0%, #1a1a2e 100%);
      border: 3px solid #0f3460;
      border-radius: 12px;
      min-height: 400px;
      flex: 1;
      display: flex;
      flex-direction: column;
      overflow: hidden;
    }
    .room-scene { position: relative; flex: 1; padding: 20px; }
    
    /* Room Objects */
    .room-object { position: absolute; cursor: pointer; transition: all 0.3s; text-align: center; }
    .room-object:hover { transform: scale(1.1); filter: brightness(1.3); }
    .room-object.completed { opacity: 0.5; filter: grayscale(0.7); }
    .room-object.completed::after {
      content: 'âœ“';
      position: absolute; top: -10px; right: -10px; background: #27ae60; /* Secondary Action Color */ color: white; width: 24px; height: 24px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 16px; font-weight: bold;
    }
    .object-icon { font-size: 48px; display: block; margin-bottom: 5px; filter: drop-shadow(2px 2px 4px rgba(0,0,0,0.5)); }
    .object-label { font-size: 12px; background: rgba(0,0,0,0.7); padding: 4px 8px; border-radius: 4px; white-space: nowrap; }

    /* Modal for activities */
    .modal-overlay { display: none; position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.9); z-index: 1000; animation: fadeIn 0.3s; overflow-y: auto; }
    .modal-overlay.active { display: flex; align-items: center; justify-content: center; padding: 20px; }
    .modal-content { background: #16213e; padding: 30px; border-radius: 12px; max-width: 700px; width: 100%; max-height: 90%; overflow-y: auto; border: 3px solid #f39c12; position: relative; }
    .modal-close {
        /* ... styles for modal close button ... */
    }
    .activity-title { font-size: 24px; color: #f39c12; margin-bottom: 20px; padding-right: 40px; }
    .question-text { font-size: 18px; margin-bottom: 20px; line-height: 1.6; }
    
    /* Options (Multiple Choice/Clickable) */
    .options { display: grid; gap: 12px; margin: 20px 0; }
    .option { padding: 15px; background: #0f3460; border: 2px solid #16213e; border-radius: 8px; cursor: pointer; transition: all 0.3s; font-size: 16px; }
    .option:hover { border-color: #f39c12; transform: translateX(5px); }
    .option.selected { border-color: #f39c12; background: #1a4d7a; }
    
    /* Drag and Drop */
    .drag-drop-area { display: flex; gap: 15px; flex-wrap: wrap; margin: 20px 0; }
    .drop-zone {
        /* ... styles for drop zone ... */
    }
    .drop-zone-label { font-weight: bold; color: #f39c12; font-size: 14px; margin-bottom: 5px; }
    .draggable {
        /* ... styles for draggable items ... */
    }
    .draggable.dragging { opacity: 0.5; }
    .draggables-container { display: flex; flex-wrap: wrap; gap: 8px; padding: 15px; background: #0f3460; border-radius: 8px; margin-bottom: 20px; min-height: 60px; }
    
    /* Hidden Clue */
    .hidden-clue { position: relative; padding: 15px; background: #0f3460; border-radius: 8px; margin: 15px 0; cursor: pointer; border: 2px solid #555; transition: all 0.3s; }
    .hidden-clue:hover { border-color: #f39c12; }
    .clue-hint { color: #f39c12; font-style: italic; font-size: 14px; }
    .clue-content { display: none; margin-top: 12px; padding-top: 12px; border-top: 1px solid #555; animation: fadeIn 0.3s; }
    .clue-content.revealed { display: block; }
    
    /* Clickable Elements */
    .clickable-element {
        /* ... styles for clickable elements ... */
    }
    .clickable-element:hover { border-color: #f39c12; }
    .clickable-element.clicked { background: #f39c12; color: #1a1a2e; }
    
    /* Feedback and Submission */
    .feedback { padding: 15px; border-radius: 8px; margin-top: 15px; font-weight: bold; display: none; }
    .feedback.show { display: block; animation: fadeIn 0.3s; }
    .feedback.correct { background: #27ae60; color: white; }
    .feedback.incorrect { background: #e74c3c; color: white; }
    .submit-btn { width: 100%; margin-top: 20px; }

    /* Code Panel */
    .code-panel { background: #0f3460; padding: 15px; border-top: 2px solid #f39c12; text-align: center; }
    .code-display { font-size: 24px; font-weight: bold; color: #f39c12; letter-spacing: 8px; font-family: 'Courier New', monospace; }
    .code-label { font-size: 12px; color: #bbb; margin-bottom: 5px; }
    .unlock-btn { margin-top: 15px; padding: 12px 30px; font-size: 16px; background: #27ae60; animation: pulse 2s infinite; }
    @keyframes pulse { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.05); } }
    
    /* Completion Screen & Leaderboard */
    .completion-screen { text-align: center; max-width: 600px; margin: auto; padding: 40px 20px; }
    .completion-screen h2 { font-size: 42px; color: #27ae60; margin-bottom: 20px; }
    .score-display { font-size: 32px; color: #f39c12; margin: 30px 0; }
    .leaderboard { background: #16213e; padding: 20px; border-radius: 12px; margin-top: 30px; }
    .leaderboard h3 { color: #f39c12; margin-bottom: 15px; }
    .leaderboard-entry { padding: 10px; background: #0f3460; margin-bottom: 10px; border-radius: 6px; display: flex; justify-content: space-between; }
    
    /* Toast Notification */
    .toast {
        /* ... styles for toast notification ... */
    }
    @keyframes slideIn { from { transform: translateX(100%); } to { transform: translateX(0); } }
</style>